{% extends 'base.html.twig' %} {% block title %}Mon Profil{% endblock %} {%
block body %}
<div class="container mt-4">
  <h1>Mon Profil</h1>

  {% for message in app.flashes('success') %}
  <div class="alert alert-success">
    {{ message }}
  </div>
  {% endfor %}

  <div class="row">
    {# Affichage du profil #}
    <div class="col-md-6">
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Informations personnelles</h5>
          <div class="mb-3">
            <p><strong>Email :</strong> {{ user.email }}</p>
            <p><strong>Pr√©nom :</strong> {{ user.firstname }}</p>
            <p><strong>Nom :</strong> {{ user.lastname }}</p>
          </div>
        </div>
      </div>
    </div>

    {# Formulaire de modification du profil #}
    <div class="col-md-6">
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Modifier mes informations</h5>
          {{ form_start(form) }}
          <div class="form-floating mb-3">
            {{ form_widget(form.email) }}
            {{ form_label(form.email) }}
            {{ form_errors(form.email) }}
          </div>
          <div class="form-floating mb-3">
            {{ form_widget(form.firstname.firstnameField) }}
            {{ form_label(form.firstname.firstnameField) }}
            {{ form_errors(form.firstname.firstnameField) }}
          </div>
          <div class="form-floating mb-3">
            {{ form_widget(form.lastname.lastnameField) }}
            {{ form_label(form.lastname.lastnameField) }}
            {{ form_errors(form.lastname.lastnameField) }}
          </div>
          <button type="submit" class="btn btn-primary">Enregistrer</button>
          {{ form_end(form) }}
        </div>
      </div>

      {# Formulaire de changement de mot de passe #}
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Changer mon mot de passe</h5>
          {{ form_start(passwordForm) }}
          <div class="form-floating mb-3">
            {{ form_widget(passwordForm.currentPassword) }}
            {{ form_label(passwordForm.currentPassword) }}
            {{ form_errors(passwordForm.currentPassword) }}
          </div>
          <div class="form-floating mb-3">
            {{ form_widget(passwordForm.plainPassword.password.first) }}
            {{ form_label(passwordForm.plainPassword.password.first) }}
            {{ form_errors(passwordForm.plainPassword.password.first) }}
          </div>
          <div class="form-floating mb-3">
            {{ form_widget(passwordForm.plainPassword.password.second) }}
            {{ form_label(passwordForm.plainPassword.password.second) }}
            {{ form_errors(passwordForm.plainPassword.password.second) }}
          </div>
          <button type="submit" class="btn btn-primary">
            Changer le mot de passe
          </button>
          {{ form_end(passwordForm) }}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
